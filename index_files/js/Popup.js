// Mostrar ventana emergente para tomar una decisión

// Coordenadas ratón
var x;
var y;

function MouseCoords(event) {
     x = event.clientX;
     y = event.clientY;
}

document.addEventListener("mousemove", MouseCoords);
document.addEventListener("click", MouseCoords);
document.addEventListener("contextmenu", MouseCoords);

// Ventanas popup disponibles
var popup_1 = '<div id="popup_1" class="_2fpYo" tabindex="-1"><span class="_2ueSF"><div tabindex="-1"><div data-animate-modal-backdrop="true" class="overlay _3ZqlX _1LkpH copyable-area"><div class="_2Oo_9"><div class="G_MLO" data-animate-modal-popup="true"><div class="_2HE5l" data-animate-modal-body="true"><div class="_3pTi5">¿Quieres eliminar este mensaje?</div><div class="_9a59P"><div class="BDFA1"><div class="_22Sil"><div class="_2XWkx"><div class="_1177f _2SH44"><div class="_1PsNu _3SQxx"></div></div><div class="_1177f"><div class="_1PsNu _2w5bx"></div></div></div></div><div class="_6sJEG">Eliminar archivo de tu teléfono</div></div></div><div class="_9a59P"></div><div class="_2LPYs"><div class="_1uIbi"><div class="_416C4"><div class="S7_rT _1hQZ_" role="button">Eliminar para mí</div></div><div class="_416C4"><div class="S7_rT _1hQZ_" role="button">Cancelar</div></div><div class="_416C4"><div class="S7_rT _1hQZ_" role="button">Eliminar para todos</div></div></div></div></div></div></div></div></div></span></div>';
var popup_2 = '<div id="popup_2" class="_2fpYo" tabindex="-1"><span class="_2ueSF"><div tabindex="-1"><div data-animate-modal-backdrop="true" class="overlay _3ZqlX _1LkpH copyable-area"><div class="_2Oo_9"><div class="G_MLO" data-animate-modal-popup="true"><div class="_2HE5l" data-animate-modal-body="true"><div class="_3pTi5">¿Quieres eliminar este mensaje?</div><div class="_9a59P"><div class="BDFA1"><div class="_22Sil"><div class="_2XWkx"><div class="_1177f _2SH44"><div class="_1PsNu _3SQxx"></div></div><div class="_1177f"><div class="_1PsNu _2w5bx"></div></div></div></div><div class="_6sJEG">Eliminar archivo de tu teléfono</div></div></div><div class="_9a59P"></div><div class="_2LPYs"><div class="S7_rT _1hQZ_" role="button">Cancelar</div><div class="S7_rT FV2Qy" role="button">Eliminar para mí</div></div></div></div></div></div></div></span></div>';
var popup_button = document.getElementsByClassName("S7_rT");

//var popup_options_original = '<div tabindex="-1" class="_2s_eZ" style="transform-origin: right top; transform: scale(1); opacity: 1; transition: 0.5s; transiton-property: transform opacity;"><ul class="I4jbF"><li tabindex="-1" class="_1N-3y eP_pD _36Osw" data-animate-dropdown-item="true" style="opacity: 1;"><div class="Ut_N0 n-CQr _2vuxN" role="button" title="Info. del mensaje">Info. del mensaje</div></li><li tabindex="-1" class="_1N-3y eP_pD _36Osw" data-animate-dropdown-item="true" style="opacity: 1;"><div class="Ut_N0 n-CQr _2vuxN" role="button" title="Responder">Responder</div></li><li tabindex="-1" class="_1N-3y eP_pD _36Osw" data-animate-dropdown-item="true" style="opacity: 1;"><div class="Ut_N0 n-CQr _2vuxN" role="button" title="Reenviar mensaje">Reenviar mensaje</div></li><li tabindex="-1" class="_1N-3y eP_pD _36Osw" data-animate-dropdown-item="true" style="opacity: 1;"><div class="Ut_N0 n-CQr _2vuxN" role="button" title="Destacar mensaje">Destacar mensaje</div></li><li tabindex="-1" class="_1N-3y eP_pD _36Osw" data-animate-dropdown-item="true" style="opacity: 1;"><div class="Ut_N0 n-CQr _2vuxN" role="button" title="Eliminar mensaje">Eliminar mensaje</div></li></ul></div>';
//var popup_options2_original = '<div tabindex="-1" class="_2s_eZ" style="transform-origin: right top; transform: scale(1); opacity: 1; transition: 0.5s; transiton-property: transform opacity;"><ul class="I4jbF"><li tabindex="-1" class="_1N-3y eP_pD _36Osw" data-animate-dropdown-item="true" style="opacity: 1;"><div class="Ut_N0 n-CQr" role="button" title="Archivar chat">Archivar chat</div></li><li tabindex="-1" class="_1N-3y eP_pD _36Osw" data-animate-dropdown-item="true" style="opacity: 1;"><div class="Ut_N0 n-CQr" role="button" title="Silenciar notificaciones">Silenciar notificaciones</div></li><li tabindex="-1" class="_1N-3y eP_pD _36Osw" data-animate-dropdown-item="true" style="opacity: 1;"><div class="Ut_N0 n-CQr" role="button" title="Eliminar chat">Eliminar chat</div></li><li tabindex="-1" class="_1N-3y eP_pD _36Osw" data-animate-dropdown-item="true" style="opacity: 1;"><div class="Ut_N0 n-CQr" role="button" title="Fijar chat">Fijar chat</div></li><li tabindex="-1" class="_1N-3y eP_pD _36Osw" data-animate-dropdown-item="true" style="opacity: 1;"><div class="Ut_N0 n-CQr" role="button" title="Marcar como no leído">Marcar como no leído</div></li></ul></div>';
var popup_options = '<div tabindex="-1" class="_2s_eZ" style="transform-origin: right top; transform: scale(0); opacity: 1; transition: 0.3s; transiton-property: transform opacity; visibility: hidden"><ul class="I4jbF"><li tabindex="-1" class="_1N-3y eP_pD _36Osw" data-animate-dropdown-item="true" style="opacity: 1;"><div onclick="MostrarOcultarNombres()" class="Ut_N0 n-CQr _2vuxN" role="button" title="Mostrar/Ocultar Nombre">Mostrar/Ocultar Nombre</div></li><li tabindex="-1" class="_1N-3y eP_pD _36Osw" data-animate-dropdown-item="true" style="opacity: 1;"><div onclick="MostrarOcultarRespuestas()" class="Ut_N0 n-CQr _2vuxN" role="button" title="Mostrar/Ocultar Respuesta">Mostrar/Ocultar Respuesta</div></li><li tabindex="-1" class="_1N-3y eP_pD _36Osw" data-animate-dropdown-item="true" style="opacity: 1;"><div class="Ut_N0 n-CQr _2vuxN" role="button" title="Seleccionar Mensajes">Seleccionar Mensajes</div></li><li tabindex="-1" class="_1N-3y eP_pD _36Osw" data-animate-dropdown-item="true" style="opacity: 1;"><div name="OcultarMensajes()" class="Ut_N0 n-CQr _2vuxN" role="button" title="Ocultar Mensajes" onclick="OcultarMensajes()">Ocultar Mensajes</div></li><li tabindex="-1" class="_1N-3y eP_pD _36Osw" data-animate-dropdown-item="true" style="opacity: 1;"><div name="MostrarMensajes()" class="Ut_N0 n-CQr _2vuxN" role="button" title="Mostrar Mensajes" onclick="MostrarMensajes()">Mostrar Mensajes</div></li><li tabindex="-1" class="_1N-3y eP_pD _36Osw" data-animate-dropdown-item="true" style="opacity: 1;"><div class="Ut_N0 n-CQr _2vuxN" role="button" title="Eliminar mensaje" onclick="EliminarMensaje()">Eliminar mensaje</div></li></ul></div>';
var popup_options2 = '<div tabindex="-1" class="_2s_eZ" style="transform-origin: right top; transform: scale(0); opacity: 1; transition: 0.3s; transiton-property: transform opacity; visibility: hidden"><ul class="I4jbF"><li tabindex="-1" class="_1N-3y eP_pD _36Osw" data-animate-dropdown-item="true" style="opacity: 1;"><div class="Ut_N0 n-CQr" role="button" title="Archivar chat">Archivar chat</div></li><li tabindex="-1" class="_1N-3y eP_pD _36Osw" data-animate-dropdown-item="true" style="opacity: 1;"><div class="Ut_N0 n-CQr" role="button" title="Silenciar notificaciones">Silenciar notificaciones</div></li><li tabindex="-1" class="_1N-3y eP_pD _36Osw" data-animate-dropdown-item="true" style="opacity: 1;"><div class="Ut_N0 n-CQr" role="button" title="Eliminar chat">Eliminar chat</div></li><li tabindex="-1" class="_1N-3y eP_pD _36Osw" data-animate-dropdown-item="true" style="opacity: 1;"><div class="Ut_N0 n-CQr" role="button" title="Fijar chat">Fijar chat</div></li><li tabindex="-1" class="_1N-3y eP_pD _36Osw" data-animate-dropdown-item="true" style="opacity: 1;"><div class="Ut_N0 n-CQr" role="button" title="Marcar como no leído">Marcar como no leído</div></li></ul></div>';

var popupCamAccess = '<div class="_2fpYo" tabindex="-1"><div data-animate-modal-backdrop="true" class="overlay _3ZqlX _3Os9f _1LkpH copyable-area" style="opacity: 1;"><div class="_2Oo_9"><div class="G_MLO" data-animate-modal-popup="true" style="opacity: 1; transform: scaleX(1) scaleY(1);"><div class="_2HE5l" data-animate-modal-body="true"><div class="_9a59P"><div class="_2VPUu _2wWwW"><div class="_2ZyPO"><span data-testid="back" data-icon="back" class=""><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M12 4l1.4 1.4L7.8 11H20v2H7.8l5.6 5.6L12 20l-8-8 8-8z"></path></svg></span></div><div class="_1-xld"><span dir="ltr" class="_3Whw5 selectable-text invisible-space copyable-text">Permitir cámara</span></div><div class="_3YtMn"><span dir="ltr" class="_3Whw5 selectable-text invisible-space copyable-text">Para tomar fotos, haz clic en “Permitir” para que WhatsApp pueda acceder a la cámara de tu computadora.</span></div><div class="_3spUw"><div role="button" tabindex="0" class="S7_rT FV2Qy">OK</div></div></div></div></div></div></div></div></div>';

// Botón que aparece al poner el ratón encima de un mensaje
// var popup_options_button = '<div class="_4tndQ _1vTsI _1ohds" style="opacity: 1;"><div data-js-context-icon="true" class="huqNi" style="transform: translateX(0%);"><span data-testid="down-context" data-icon="down-context" class=""><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M3.3 4.6L9 10.3l5.7-5.7 1.6 1.6L9 13.4 1.7 6.2l1.6-1.6z"></path></svg></span></div></div>';

var popup_left_bottom = '<div class="izoh-" style=""><div class="_11dpe"><span>Chat archivado</span><button class="QTDNn">Deshacer</button><button class="_2bw0l"><span data-testid="x-alt" data-icon="x-alt" class=""><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M17.25 7.8L16.2 6.75l-4.2 4.2-4.2-4.2L6.75 7.8l4.2 4.2-4.2 4.2 1.05 1.05 4.2-4.2 4.2 4.2 1.05-1.05-4.2-4.2 4.2-4.2z"></path></svg></span></button></div></div>';
var popup_stories = '<div class="_2fpYo" tabindex="-1"><span class="_2ueSF"><div class="_3_ZWX" data-animate-status-v3-modal-background="true"><div class="_2x-Yl"><div class="_2T-91"><div class="_20L9v"><div class="_3Opax"><div class="_1BjNO _3lLJT" style="height: 40px; width: 40px;"><img src="https://web.whatsapp.com/pp?e=https%3A%2F%2Fpps.whatsapp.net%2Fv%2Ft61.24694-24%2F117884652_1500396153500866_2356624640937481720_n.jpg%3Foh%3Dd2f8c15e7742d4b3893966bd0bea3111%26oe%3D5F8AC08D&amp;t=s&amp;u=34642791803%40c.us&amp;i=1598463621&amp;n=oCtCPDsECzlLbVGPcP5uqqZOUW2%2FkIpjO1ldoL7E6SA%3D" draggable="false" class="_2goTk _1Jdop _3Whw5" style="visibility: visible;"><div class="_1V82l"><span data-testid="default-user" data-icon="default-user" class=""><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 212 212" width="212" height="212"><path fill="#DFE5E7" class="background" d="M106.251.5C164.653.5 212 47.846 212 106.25S164.653 212 106.25 212C47.846 212 .5 164.654.5 106.25S47.846.5 106.251.5z"></path><path fill="#FFF" class="primary" d="M173.561 171.615a62.767 62.767 0 0 0-2.065-2.955 67.7 67.7 0 0 0-2.608-3.299 70.112 70.112 0 0 0-3.184-3.527 71.097 71.097 0 0 0-5.924-5.47 72.458 72.458 0 0 0-10.204-7.026 75.2 75.2 0 0 0-5.98-3.055c-.062-.028-.118-.059-.18-.087-9.792-4.44-22.106-7.529-37.416-7.529s-27.624 3.089-37.416 7.529c-.338.153-.653.318-.985.474a75.37 75.37 0 0 0-6.229 3.298 72.589 72.589 0 0 0-9.15 6.395 71.243 71.243 0 0 0-5.924 5.47 70.064 70.064 0 0 0-3.184 3.527 67.142 67.142 0 0 0-2.609 3.299 63.292 63.292 0 0 0-2.065 2.955 56.33 56.33 0 0 0-1.447 2.324c-.033.056-.073.119-.104.174a47.92 47.92 0 0 0-1.07 1.926c-.559 1.068-.818 1.678-.818 1.678v.398c18.285 17.927 43.322 28.985 70.945 28.985 27.678 0 52.761-11.103 71.055-29.095v-.289s-.619-1.45-1.992-3.778a58.346 58.346 0 0 0-1.446-2.322zM106.002 125.5c2.645 0 5.212-.253 7.68-.737a38.272 38.272 0 0 0 3.624-.896 37.124 37.124 0 0 0 5.12-1.958 36.307 36.307 0 0 0 6.15-3.67 35.923 35.923 0 0 0 9.489-10.48 36.558 36.558 0 0 0 2.422-4.84 37.051 37.051 0 0 0 1.716-5.25c.299-1.208.542-2.443.725-3.701.275-1.887.417-3.827.417-5.811s-.142-3.925-.417-5.811a38.734 38.734 0 0 0-1.215-5.494 36.68 36.68 0 0 0-3.648-8.298 35.923 35.923 0 0 0-9.489-10.48 36.347 36.347 0 0 0-6.15-3.67 37.124 37.124 0 0 0-5.12-1.958 37.67 37.67 0 0 0-3.624-.896 39.875 39.875 0 0 0-7.68-.737c-21.162 0-37.345 16.183-37.345 37.345 0 21.159 16.183 37.342 37.345 37.342z"></path></svg></span></div></div></div><div class="_5ZC7y"><span class="_2jlSa">Mi estado</span><span class="_10ykw">No hay actualizaciones</span></div><div class="dhDW9"></div></div><div class="_1qDvT _147Si"><div class="_1_u2h"></div><div class="_2NIgT"></div></div></div><div class="_1srPs"><div class="nGdUb"><div class="b7uar"><span data-testid="status-v3-placeholder" data-icon="status-v3-placeholder" class=""><svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 80 80" width="80" height="80"><path fill="currentColor" d="M30.566 78.982c-.222 0-.447-.028-.672-.087C12.587 74.324.5 58.588.5 40.631c0-3.509.459-6.989 1.363-10.343a2.625 2.625 0 0 1 5.068 1.366 34.505 34.505 0 0 0-1.182 8.977c0 15.578 10.48 29.226 25.485 33.188a2.625 2.625 0 0 1-.668 5.163zm19.355-.107C67.336 74.364 79.5 58.611 79.5 40.563c0-3.477-.452-6.933-1.345-10.27a2.624 2.624 0 1 0-5.071 1.356 34.578 34.578 0 0 1 1.166 8.914c0 15.655-10.545 29.319-25.646 33.23a2.625 2.625 0 0 0 1.317 5.082zM15.482 16.5C21.968 9.901 30.628 6.267 39.867 6.267c9.143 0 17.738 3.569 24.202 10.05a2.625 2.625 0 0 0 3.717-3.708C60.329 5.135 50.413 1.018 39.867 1.018c-10.658 0-20.648 4.191-28.128 11.802a2.624 2.624 0 1 0 3.743 3.68z"></path></svg></span></div><div class="_2-s0u">Haz clic en un contacto para ver sus actualizaciones de estado</div></div></div><button class="_19n1B"><span data-testid="x-viewer" data-icon="x-viewer" class=""><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M19.8 5.8l-1.6-1.6-6.2 6.2-6.2-6.2-1.6 1.6 6.2 6.2-6.2 6.2 1.6 1.6 6.2-6.2 6.2 6.2 1.6-1.6-6.2-6.2 6.2-6.2z"></path></svg></span></button></div></div></span></div>';

// var emojiExtraPopup = '<div tabindex="-1" class="_3f317" style="transform-origin: left bottom; left: 692.812px; bottom: 153px; transform: scale(1); opacity: 1;"><ul class="I4jbF"><div class="_1rQ6G"> <li tabindex="-1" class="_1N-3y eP_pD _12VoD" data-animate-dropdown-item="true" style="opacity: 1;"><span dir="auto" class="_3Whw5"><img src="file:///C:/Users/danie/Desktop/HTML/WhatsApp-Base-2.0/index_files/assets/Emoticonos/f9625a59e46bd5c96ee3b2b72984f076_w_1870-64.png" alt="👇" draggable="false" class="b36 emojik wa _3Whw5" style="background-position: -128px -96px;"></span></li><li tabindex="-1" class="_1N-3y eP_pD _12VoD" data-animate-dropdown-item="true" style="opacity: 1;"><span dir="auto" class="_3Whw5"><img src="file:///C:/Users/danie/Desktop/HTML/WhatsApp-Base-2.0/index_files/assets/Emoticonos/f9625a59e46bd5c96ee3b2b72984f076_w_1870-64.png" alt="👇🏻" draggable="false" class="b36 emojik wa _3Whw5" style="background-position: 0px -128px;"></span></li><li tabindex="-1" class="_1N-3y eP_pD _12VoD" data-animate-dropdown-item="true" style="opacity: 1;"><span dir="auto" class="_3Whw5"><img src="file:///C:/Users/danie/Desktop/HTML/WhatsApp-Base-2.0/index_files/assets/Emoticonos/f9625a59e46bd5c96ee3b2b72984f076_w_1870-64.png" alt="👇🏼" draggable="false" class="b36 emojik wa _3Whw5" style="background-position: -32px -128px;"></span></li><li tabindex="-1" class="_1N-3y eP_pD _12VoD" data-animate-dropdown-item="true" style="opacity: 1;"><span dir="auto" class="_3Whw5"><img src="file:///C:/Users/danie/Desktop/HTML/WhatsApp-Base-2.0/index_files/assets/Emoticonos/f9625a59e46bd5c96ee3b2b72984f076_w_1870-64.png" alt="👇🏽" draggable="false" class="b36 emojik wa _3Whw5" style="background-position: -64px -128px;"></span></li><li tabindex="-1" class="_1N-3y eP_pD _12VoD" data-animate-dropdown-item="true" style="opacity: 1;"><span dir="auto" class="_3Whw5"><img src="file:///C:/Users/danie/Desktop/HTML/WhatsApp-Base-2.0/index_files/assets/Emoticonos/f9625a59e46bd5c96ee3b2b72984f076_w_1870-64.png" alt="👇🏾" draggable="false" class="b36 emojik wa _3Whw5" style="background-position: -96px -128px;"></span></li><li tabindex="-1" class="_1N-3y eP_pD _12VoD" data-animate-dropdown-item="true" style="opacity: 1;"><span dir="auto" class="_3Whw5"><img src="file:///C:/Users/danie/Desktop/HTML/WhatsApp-Base-2.0/index_files/assets/Emoticonos/f9625a59e46bd5c96ee3b2b72984f076_w_1870-64.png" alt="👇🏿" draggable="false" class="b36 emojik wa _3Whw5" style="background-position: -128px -128px;"></span></li> </div></ul><div class="_3s_mK" data-animate-dropdown-nib="true" style="opacity: 1; transform: translateY(0%) rotateZ(45deg);"></div></div>';
// span_popup[3];

//Barra del footer
var footerBar = '<footer onclick="MandarMensaje();" tabindex="-1" class="_2vJ01" style="display:"><div class="_3ee1T _1LkpH copyable-area"><div class="_1JNuk _1qLcF" style="will-change: width;"><!--Descomentar clase para desplegar los demás botones--><div data-state="closed" class="_2X5R7 _2xX1H /*uK5uH*/"><button tabindex="-1" class="FIHAk _3fM82 _1O_oN _1HKOF"><span data-testid="x" data-icon="x" class=""><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M19.1 17.2l-5.3-5.3 5.3-5.3-1.8-1.8-5.3 5.4-5.3-5.3-1.8 1.7 5.3 5.3-5.3 5.3L6.7 19l5.3-5.3 5.3 5.3 1.8-1.8z"></path></svg></span></button><!--Descomentar clase para iluminar el emoticono--><button tabindex="-1" class="FIHAk _3fM82 a37s7 _2Q56Q _2TkoI /*_3QjfB*/" aria-label="Abrir el panel de emojis" data-tab="5"><span data-testid="smiley" data-icon="smiley" class=""><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M9.153 11.603c.795 0 1.439-.879 1.439-1.962s-.644-1.962-1.439-1.962-1.439.879-1.439 1.962.644 1.962 1.439 1.962zm-3.204 1.362c-.026-.307-.131 5.218 6.063 5.551 6.066-.25 6.066-5.551 6.066-5.551-6.078 1.416-12.129 0-12.129 0zm11.363 1.108s-.669 1.959-5.051 1.959c-3.505 0-5.388-1.164-5.607-1.959 0 0 5.912 1.055 10.658 0zM11.804 1.011C5.609 1.011.978 6.033.978 12.228s4.826 10.761 11.021 10.761S23.02 18.423 23.02 12.228c.001-6.195-5.021-11.217-11.216-11.217zM12 21.354c-5.273 0-9.381-3.886-9.381-9.159s3.942-9.548 9.215-9.548 9.548 4.275 9.548 9.548c-.001 5.272-4.109 9.159-9.382 9.159zm3.108-9.751c.795 0 1.439-.879 1.439-1.962s-.644-1.962-1.439-1.962-1.439.879-1.439 1.962.644 1.962 1.439 1.962z"></path></svg></span></button><button tabindex="-1" class="FIHAk _3fM82 _3eFiH _2TkoI"><span data-testid="gif" data-icon="gif" class=""><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M13.177 12.013l-.001-.125v-.541-.512c0-.464 0-.827-.002-1.178a.723.723 0 0 0-.557-.7.715.715 0 0 0-.826.4c-.05.115-.072.253-.073.403-.003 1.065-.003 1.917-.002 3.834v.653c0 .074.003.136.009.195a.72.72 0 0 0 .57.619c.477.091.878-.242.881-.734.002-.454.003-.817.002-1.633l-.001-.681zm-3.21-.536a35.751 35.751 0 0 0-1.651-.003c-.263.005-.498.215-.565.48a.622.622 0 0 0 .276.7.833.833 0 0 0 .372.104c.179.007.32.008.649.005l.137-.001v.102c-.001.28-.001.396.003.546.001.044-.006.055-.047.081-.242.15-.518.235-.857.275-.767.091-1.466-.311-1.745-1.006a2.083 2.083 0 0 1-.117-1.08 1.64 1.64 0 0 1 1.847-1.41c.319.044.616.169.917.376.196.135.401.184.615.131a.692.692 0 0 0 .541-.562c.063-.315-.057-.579-.331-.766-.789-.542-1.701-.694-2.684-.482-2.009.433-2.978 2.537-2.173 4.378.483 1.105 1.389 1.685 2.658 1.771.803.054 1.561-.143 2.279-.579.318-.193.498-.461.508-.803.014-.52.015-1.046.001-1.578-.009-.362-.29-.669-.633-.679zM18 4.25H6A4.75 4.75 0 0 0 1.25 9v6A4.75 4.75 0 0 0 6 19.75h12A4.75 4.75 0 0 0 22.75 15V9A4.75 4.75 0 0 0 18 4.25zM21.25 15A3.25 3.25 0 0 1 18 18.25H6A3.25 3.25 0 0 1 2.75 15V9A3.25 3.25 0 0 1 6 5.75h12A3.25 3.25 0 0 1 21.25 9v6zm-2.869-6.018H15.3c-.544 0-.837.294-.837.839V14.309c0 .293.124.525.368.669.496.292 1.076-.059 1.086-.651.005-.285.006-.532.004-1.013v-.045l-.001-.46v-.052h1.096l1.053-.001a.667.667 0 0 0 .655-.478c.09-.298-.012-.607-.271-.757a.985.985 0 0 0-.468-.122 82.064 82.064 0 0 0-1.436-.006h-.05l-.523.001h-.047v-1.051h1.267l1.22-.001c.458-.001.768-.353.702-.799-.053-.338-.35-.56-.737-.561z"></path></svg></span></button><button tabindex="-1" class="FIHAk _3fM82 _1ix2F _2TkoI"><span data-testid="sticker" data-icon="sticker" class=""><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M21.799 10.183c-.002-.184-.003-.373-.008-.548-.02-.768-.065-1.348-.173-1.939a6.6 6.6 0 0 0-.624-1.87 6.24 6.24 0 0 0-1.171-1.594 6.301 6.301 0 0 0-1.614-1.159 6.722 6.722 0 0 0-1.887-.615c-.59-.106-1.174-.15-1.961-.171-.318-.008-3.607-.012-4.631 0-.798.02-1.383.064-1.975.17a6.783 6.783 0 0 0-1.888.616 6.326 6.326 0 0 0-2.785 2.753 6.658 6.658 0 0 0-.623 1.868c-.107.591-.152 1.186-.173 1.941-.008.277-.016 2.882-.016 2.882 0 .52.008 1.647.016 1.925.02.755.066 1.349.172 1.938.126.687.33 1.3.624 1.871.303.59.698 1.126 1.173 1.595a6.318 6.318 0 0 0 1.614 1.159 6.786 6.786 0 0 0 2.146.656c.479.068.833.087 1.633.108.035.001 2.118-.024 2.578-.035a6.873 6.873 0 0 0 4.487-1.811 210.877 210.877 0 0 0 2.928-2.737 6.857 6.857 0 0 0 2.097-4.528l.066-1.052.001-.668c.001-.023-.005-.738-.006-.755zm-3.195 5.92c-.79.757-1.784 1.684-2.906 2.716a5.356 5.356 0 0 1-2.044 1.154c.051-.143.116-.276.145-.433.042-.234.06-.461.067-.74.003-.105.009-.789.009-.789.013-.483.042-.865.107-1.22.069-.379.179-.709.336-1.016.16-.311.369-.595.621-.844.254-.252.542-.458.859-.617.314-.158.65-.268 1.037-.337a8.127 8.127 0 0 1 1.253-.106s.383.001.701-.003a4.91 4.91 0 0 0 .755-.066c.186-.034.348-.105.515-.169a5.35 5.35 0 0 1-1.455 2.47zm1.663-4.757a1.128 1.128 0 0 1-.615.859 1.304 1.304 0 0 1-.371.119 3.502 3.502 0 0 1-.52.043c-.309.004-.687.004-.687.004-.613.016-1.053.049-1.502.129a5.21 5.21 0 0 0-1.447.473 4.86 4.86 0 0 0-2.141 2.115 5.088 5.088 0 0 0-.479 1.434 9.376 9.376 0 0 0-.131 1.461s-.006.684-.008.777c-.006.208-.018.37-.043.511a1.154 1.154 0 0 1-.626.86c-.072.036-.168.063-.37.098-.027.005-.25.027-.448.031-.021 0-1.157.01-1.192.009-.742-.019-1.263-.046-1.668-.126a5.27 5.27 0 0 1-1.477-.479 4.823 4.823 0 0 1-2.127-2.1 5.141 5.141 0 0 1-.482-1.453c-.09-.495-.13-1.025-.149-1.71a36.545 36.545 0 0 1-.012-.847c-.003-.292.005-3.614.012-3.879.02-.685.061-1.214.151-1.712a5.12 5.12 0 0 1 .481-1.45c.231-.449.53-.856.892-1.213.363-.36.777-.657 1.233-.886a5.26 5.26 0 0 1 1.477-.479c.503-.09 1.022-.129 1.74-.149a342.03 342.03 0 0 1 4.561 0c.717.019 1.236.058 1.737.148a5.263 5.263 0 0 1 1.476.478 4.835 4.835 0 0 1 2.126 2.098c.228.441.385.913.482 1.453.091.499.131 1.013.15 1.712.008.271.014 1.098.014 1.235a2.935 2.935 0 0 1-.037.436z"></path></svg></span></button></div><div class="_295He"><div class="PVMjB"><div aria-disabled="false" role="button" tabindex="0" title="Adjuntar"><span data-testid="clip" data-icon="clip" class=""><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M1.816 15.556v.002c0 1.502.584 2.912 1.646 3.972s2.472 1.647 3.974 1.647a5.58 5.58 0 0 0 3.972-1.645l9.547-9.548c.769-.768 1.147-1.767 1.058-2.817-.079-.968-.548-1.927-1.319-2.698-1.594-1.592-4.068-1.711-5.517-.262l-7.916 7.915c-.881.881-.792 2.25.214 3.261.959.958 2.423 1.053 3.263.215l5.511-5.512c.28-.28.267-.722.053-.936l-.244-.244c-.191-.191-.567-.349-.957.04l-5.506 5.506c-.18.18-.635.127-.976-.214-.098-.097-.576-.613-.213-.973l7.915-7.917c.818-.817 2.267-.699 3.23.262.5.501.802 1.1.849 1.685.051.573-.156 1.111-.589 1.543l-9.547 9.549a3.97 3.97 0 0 1-2.829 1.171 3.975 3.975 0 0 1-2.83-1.173 3.973 3.973 0 0 1-1.172-2.828c0-1.071.415-2.076 1.172-2.83l7.209-7.211c.157-.157.264-.579.028-.814L11.5 4.36a.572.572 0 0 0-.834.018l-7.205 7.207a5.577 5.577 0 0 0-1.645 3.971z"></path></svg></span></div><span><!--Botones Desplegables del clip--><div class="_8EvFT" style="display:none"><span data-testid="attach-shadow" data-icon="attach-shadow" class=""><svg xmlns="http://www.w3.org/2000/svg"><defs><filter id="attach-shadow" x="0" y="0" width="200%" height="200%"><feOffset result="offOut" in="SourceAlpha" dy="2"></feOffset><feGaussianBlur result="blurOut" in="offOut" stdDeviation=".5"></feGaussianBlur><feComponentTransfer in="blurOut" result="alphaOut"><feFuncA type="linear" slope=".08"></feFuncA></feComponentTransfer><feBlend in="SourceGraphic" in2="alphaOut"></feBlend></filter></defs></svg></span><div tabindex="-1" class="_15QUU" style="transform-origin: left top;"><ul class="I4jbF"><li tabindex="-1" class="_1N-3y eP_pD _YNsg" data-animate-dropdown-item="true"><button class="_1dxx-" data-animate-menu-icons-item="true" style="opacity: 1; transform: translateY(0%) scaleX(1) scaleY(1);"><span data-testid="attach-image" data-icon="attach-image" class="_1kjc_"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 53 53" width="53" height="53"><defs><circle id="image-SVGID_1_" cx="26.5" cy="26.5" r="25.5"></circle></defs><clipPath id="image-SVGID_2_"><use xlink:href="#image-SVGID_1_" overflow="visible"></use></clipPath><g clip-path="url(#image-SVGID_2_)"><path fill="#AC44CF" d="M26.5-1.1C11.9-1.1-1.1 5.6-1.1 27.6h55.2c-.1-19-13-28.7-27.6-28.7z"></path><path fill="#BF59CF" d="M53 26.5H-1.1c0 14.6 13 27.6 27.6 27.6s27.6-13 27.6-27.6H53z"></path><path fill="#AC44CF" d="M17 24.5h18v9H17z"></path></g><g fill="#F5F5F5"><path id="svg-image" d="M18.318 18.25h16.364c.863 0 1.727.827 1.811 1.696l.007.137v12.834c0 .871-.82 1.741-1.682 1.826l-.136.007H18.318a1.83 1.83 0 0 1-1.812-1.684l-.006-.149V20.083c0-.87.82-1.741 1.682-1.826l.136-.007h16.364zm5.081 8.22l-3.781 5.044c-.269.355-.052.736.39.736h12.955c.442-.011.701-.402.421-.758l-2.682-3.449a.54.54 0 0 0-.841-.011l-2.262 2.727-3.339-4.3a.54.54 0 0 0-.861.011zm8.351-5.22a1.75 1.75 0 1 0 .001 3.501 1.75 1.75 0 0 0-.001-3.501z"></path></g></svg></span><input accept="image/*,video/mp4,video/3gpp,video/quicktime" type="file" multiple="" style="display: none;"></button></li><li tabindex="-1" class="_1N-3y eP_pD _YNsg" data-animate-dropdown-item="true"><button class="_1dxx-" data-animate-menu-icons-item="true" style="opacity: 1; transform: translateY(0%) scaleX(1) scaleY(1);"><span data-testid="attach-camera" data-icon="attach-camera" class="_1kjc_"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 53 53" width="53" height="53"><defs><circle id="camera-SVGID_1_" cx="26.5" cy="26.5" r="25.5"></circle></defs><clipPath id="camera-SVGID_2_"><use xlink:href="#camera-SVGID_1_" overflow="visible"></use></clipPath><g clip-path="url(#camera-SVGID_2_)"><path fill="#D3396D" d="M26.5-1.1C11.9-1.1-1.1 5.6-1.1 27.6h55.2c-.1-19-13-28.7-27.6-28.7z"></path><path fill="#EC407A" d="M53 26.5H-1.1c0 14.6 13 27.6 27.6 27.6s27.6-13 27.6-27.6H53z"></path><path fill="#D3396D" d="M17 24.5h15v9H17z"></path></g><g fill="#F5F5F5"><path id="svg-camera" d="M27.795 17a3 3 0 0 1 2.405 1.206l.3.403a3 3 0 0 0 2.405 1.206H34.2a2.8 2.8 0 0 1 2.8 2.8V32a4 4 0 0 1-4 4H20a4 4 0 0 1-4-4v-9.385a2.8 2.8 0 0 1 2.8-2.8h1.295a3 3 0 0 0 2.405-1.206l.3-.403A3 3 0 0 1 25.205 17h2.59zM26.5 22.25a5.25 5.25 0 1 0 .001 10.501A5.25 5.25 0 0 0 26.5 22.25zm0 1.75a3.5 3.5 0 1 1 0 7 3.5 3.5 0 0 1 0-7z"></path></g></svg></span></button></li><li tabindex="-1" class="_1N-3y eP_pD _YNsg" data-animate-dropdown-item="true"><button class="_1dxx-" data-animate-menu-icons-item="true" style="opacity: 1; transform: translateY(0%) scaleX(1) scaleY(1);"><span data-testid="attach-document" data-icon="attach-document" class="_1kjc_"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 53 53" width="53" height="53"><defs><circle id="document-SVGID_1_" cx="26.5" cy="26.5" r="25.5"></circle></defs><clipPath id="document-SVGID_2_"><use xlink:href="#document-SVGID_1_" overflow="visible"></use></clipPath><g clip-path="url(#document-SVGID_2_)"><path fill="#5157AE" d="M26.5-1.1C11.9-1.1-1.1 5.6-1.1 27.6h55.2c-.1-19-13-28.7-27.6-28.7z"></path><path fill="#5F66CD" d="M53 26.5H-1.1c0 14.6 13 27.6 27.6 27.6s27.6-13 27.6-27.6H53z"></path></g><g fill="#F5F5F5"><path id="svg-document" d="M29.09 17.09c-.38-.38-.89-.59-1.42-.59H20.5c-1.1 0-2 .9-2 2v16c0 1.1.89 2 1.99 2H32.5c1.1 0 2-.9 2-2V23.33c0-.53-.21-1.04-.59-1.41l-4.82-4.83zM27.5 22.5V18l5.5 5.5h-4.5c-.55 0-1-.45-1-1z"></path></g></svg></span><input accept="*" type="file" multiple="" style="display: none;"></button></li><li tabindex="-1" class="_1N-3y eP_pD _YNsg" data-animate-dropdown-item="true"><button class="_1dxx-" data-animate-menu-icons-item="true" style="opacity: 1; transform: translateY(0%) scaleX(1) scaleY(1);"><span data-testid="attach-contact" data-icon="attach-contact" class="_1kjc_"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 53 53" width="53" height="53"><defs><circle id="contact-SVGID_1_" cx="26.5" cy="26.5" r="25.5"></circle></defs><clipPath id="contact-SVGID_2_"><use xlink:href="#contact-SVGID_1_" overflow="visible"></use></clipPath><g clip-path="url(#contact-SVGID_2_)"><path fill="#0795DC" d="M26.5-1.1C11.9-1.1-1.1 5.6-1.1 27.6h55.2c-.1-19-13-28.7-27.6-28.7z"></path><path fill="#0EABF4" d="M53 26.5H-1.1c0 14.6 13 27.6 27.6 27.6s27.6-13 27.6-27.6H53z"></path></g><g fill="#F5F5F5"><path id="svg-contact" d="M26.5 26.5A4.5 4.5 0 0 0 31 22a4.5 4.5 0 0 0-4.5-4.5A4.5 4.5 0 0 0 22 22a4.5 4.5 0 0 0 4.5 4.5zm0 2.25c-3.004 0-9 1.508-9 4.5v1.125c0 .619.506 1.125 1.125 1.125h15.75c.619 0 1.125-.506 1.125-1.125V33.25c0-2.992-5.996-4.5-9-4.5z"></path></g></svg></span></button></li><li tabindex="-1" class="_1N-3y eP_pD _YNsg" data-animate-dropdown-item="true"><button class="_1dxx-" data-animate-menu-icons-item="true" style="opacity: 1; transform: translateY(0%) scaleX(1) scaleY(1);"><span data-testid="attach-rooms" data-icon="attach-rooms" class="_1kjc_"><svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 53 53" width="53" height="53"><defs><circle id="rooms-SVGID_1_" cx="26.5" cy="26.5" r="25.5"></circle></defs><clipPath id="rooms-SVGID_2_"><use xlink:href="#rooms-SVGID_1_" overflow="visible"></use></clipPath><g clip-path="url(#rooms-SVGID_2_)"><path fill="#396CD3" d="M26.5-1.1C11.9-1.1-1.1 5.6-1.1 27.6h55.2c-.1-19-13-28.7-27.6-28.7z"></path><path fill="#4079EC" d="M53 26.5H-1.1c0 14.6 13 27.6 27.6 27.6s27.6-13 27.6-27.6H53z"></path><path fill="#396CD3" d="M17 24.5h15v9H17z"></path></g><g fill="#F5F5F5"><path id="svg-rooms" fill-rule="evenodd" clip-rule="evenodd" d="M28.5 18a3.5 3.5 0 0 1 3.5 3.5v10a3.5 3.5 0 0 1-3.5 3.5h-10a3.5 3.5 0 0 1-3.5-3.5v-10a3.5 3.5 0 0 1 3.5-3.5h10zm-7.925 6.782a.804.804 0 0 0-1.045-.073l-.708.698-.297.33-.134.177a4.075 4.075 0 0 0 .433 5.265 4.07 4.07 0 0 0 2.886 1.198c.976 0 1.952-.349 2.73-1.05l.784-.777.077-.091.063-.102.045-.105a.797.797 0 0 0-.189-.824.806.806 0 0 0-1.045-.073l-.704.694-.123.116-.147.119-.15.105a2.5 2.5 0 0 1-3.099-.337 2.492 2.492 0 0 1-.12-3.392l.748-.756.076-.091.063-.102.046-.105a.794.794 0 0 0-.19-.824zm5.281-.637a.803.803 0 0 0-1.044-.073l-3.67 3.662-.078.091-.063.102-.045.105a.793.793 0 0 0 .754 1.056.805.805 0 0 0 .481-.16l3.671-3.662.076-.09.064-.102.045-.105a.795.795 0 0 0-.191-.824zm2.323-2.323a4.078 4.078 0 0 0-5.615-.149l-.785.777-.073.084-.062.098a.806.806 0 0 0 .14.941.803.803 0 0 0 1.043.072l.705-.693.127-.119.137-.111a2.494 2.494 0 0 1 3.257.227c.921.923.972 2.413.117 3.392l-.746.755-.072.084-.062.098a.8.8 0 0 0 .139.941.8.8 0 0 0 1.043.072l.709-.697.148-.156.145-.17a4.084 4.084 0 0 0-.295-5.446zm9.815-.188l.006.129v9.474c0 1.31-1.714 1.998-2.744 1.12l-.878-.847a2.828 2.828 0 0 1-.871-1.849l-.007-.19v-5.943c0-.765.316-1.498.879-2.039l.877-.846c.996-.848 2.631-.234 2.738.991z"></path></g></svg></span></button></li></ul></div></div></span></div></div></div><div tabindex="-1" class="_3uMse"><div tabindex="-1" class="_2FVVk _2UL8j focused"><div class="_2FbwG" style="display:;">Escribe un mensaje aquí</div><div class="_3FRCZ copyable-text selectable-text" contenteditable="true" data-tab="1" dir="ltr" spellcheck="true"></div></div></div><div class="footer-button _1JNuk"><div class="_3TDpK"><span><button class="_2r1fJ"><span data-testid="ptt" data-icon="ptt" class=""><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M11.999 14.942c2.001 0 3.531-1.53 3.531-3.531V4.35c0-2.001-1.53-3.531-3.531-3.531S8.469 2.35 8.469 4.35v7.061c0 2.001 1.53 3.531 3.53 3.531zm6.238-3.53c0 3.531-2.942 6.002-6.237 6.002s-6.237-2.471-6.237-6.002H3.761c0 4.001 3.178 7.297 7.061 7.885v3.884h2.354v-3.884c3.884-.588 7.061-3.884 7.061-7.885h-2z"></path></svg></span></button></span></div></div></div><!--Lista desplegable de Emoticonos, GIF, Stickers...--><div class="rlE2w" style="display:none;"><div class="_1WWP0"><div class="_1qDvT"><div class="_2NIgT"></div></div><div class="_1qDvT"><div class="_2NIgT"></div></div><div class="_1qDvT"><div class="_1qDvT" style="transform: translateY(0px);"><div class="_3BgLd"><div class="_3eShu"><div class="_5m0TK" style="width: 11.1111%; transform: translateX(0%);"></div><div role="button" class="_2VOsv _2RAgj _--7_r" title="Recientes"><span data-testid="panel-recent" data-icon="panel-recent" class=""><svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.538 11.975a8.563 8.563 0 1 0-17.126 0 8.563 8.563 0 0 0 17.126 0zm1.412 0c0 5.509-4.466 9.975-9.975 9.975C6.465 21.95 2 17.484 2 11.975 2 6.465 6.466 2 11.975 2c5.509 0 9.975 4.466 9.975 9.975zm-9.832-5.27v5.692l4.386 2.627a.706.706 0 1 1-.725 1.212l-5.073-3.04v-6.49a.706.706 0 1 1 1.412 0z" fill="currentColor"></path></svg></span></div><div role="button" class="_2VOsv _2RAgj" title="Emoticonos y personas"><span data-testid="panel-emoji-people" data-icon="panel-emoji-people" class=""><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M12 22.1C6.4 22.1 1.9 17.6 1.9 12S6.4 1.9 12 1.9 22.1 6.4 22.1 12 17.6 22.1 12 22.1zm0-18.6c-4.7 0-8.5 3.8-8.5 8.5s3.8 8.5 8.5 8.5 8.5-3.8 8.5-8.5-3.8-8.5-8.5-8.5z"></path><path fill="currentColor" d="M8.9 11.6c.7 0 1.3-.7 1.3-1.5s-.6-1.5-1.3-1.5-1.3.7-1.3 1.5.6 1.5 1.3 1.5zM17.1 13.6c-1.1.1-3 .4-5 .4s-4-.3-5-.4c-.4 0-.6.3-.4.7 1.1 2 3.1 3.5 5.5 3.5 2.3 0 4.4-1.5 5.5-3.5.1-.3-.2-.7-.6-.7zM12.3 16c-2.6 0-4.1-1-4.2-1.6 0 0 4.4.9 8 0 0 0-.5 1.6-3.8 1.6zM15.1 11.6c.7 0 1.3-.7 1.3-1.5s-.6-1.5-1.3-1.5-1.3.7-1.3 1.5.6 1.5 1.3 1.5z"></path></svg></span></div><div role="button" class="_2VOsv _2RAgj" title="Animales y naturaleza"><span data-testid="panel-emoji-nature" data-icon="panel-emoji-nature" class=""><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M7.2 12.2c.608 0 1.1.627 1.1 1.4S7.808 15 7.2 15s-1.1-.627-1.1-1.4.492-1.4 1.1-1.4zm9.7 0c.608 0 1.1.627 1.1 1.4s-.492 1.4-1.1 1.4-1.1-.627-1.1-1.4.492-1.4 1.1-1.4zm4.6-1.1l-1.2-2.4c.9-.4 1.7-1.3 2-2.2.3-.7.4-2.1-1-3.5-1-.9-2-1.2-2.9-1-1.1.3-1.9 1.2-2.3 1.9-1.4-.7-2.9-.8-4.1-.8-1.5 0-2.8.3-4 .9-.5-.9-1.2-1.8-2.3-2.1-1-.2-2 .1-2.9 1-1 1-1.4 2.2-1 3.4.4 1.1 1.2 1.9 2 2.3-.2.5-.4 1-.6 1.6l-.2.2c-.3.7-.5 1.3-.8 1.9-.4 1-.9 1.9-.9 3.1 0 1.6.8 6.7 10.5 6.7 3.8 0 6.6-.7 8.5-2.2s2.2-3.4 2.2-4.3c.2-2.1-.2-2.9-1-4.5zm-2.7-7.6c.4-.1.9.1 1.5.6.6.6.8 1.2.6 1.8-.2.6-.7 1.1-1.2 1.3-.6-1.2-1.3-2-2.1-2.6.2-.4.6-1 1.2-1.1zM3.3 5.9c-.2-.6 0-1.2.6-1.8.5-.5 1.1-.7 1.5-.6.5.1 1.1.7 1.3 1.2-.9.7-1.6 1.5-2.2 2.6C4 7 3.4 6.5 3.3 5.9zm17.8 9.7c0 .7-.2 2-1.6 3.1-1.5 1.2-4.1 1.8-7.5 1.8-8.3 0-8.9-3.9-8.9-5.1 0-.8.3-1.5.7-2.4.3-.6.6-1.2.8-2.1l.1-.2c.5-1.5 2-6.2 7.3-6.2 1.2 0 2.5.2 3.7.9.1.1.5.3.5.3.9.7 1.7 1.7 2.4 3.2.6 1.3 1 2.2 1.4 2.9.8 1.6 1.1 2.1 1.1 3.8zM14.6 17c-.1.1-.6.4-1.2.3-.4-.1-.7-.3-.9-.8 0-.1-.1-.1-.1-.2.8-.1 1.3-.6 1.3-1.3s-.7 0-1.7 0c-.9 0-1.7-.7-1.7 0 0 .6.6 1.2 1.4 1.3l-.1.1c-.3.4-.5.7-.9.8-.5.1-1.1-.1-1.3-.3-.2-.2-.5-.1-.7.1s-.1.5.1.7c.1.1.8.5 1.6.5.2 0 .4 0 .5-.1.4-.1.8-.3 1.1-.7.4.4.9.6 1.2.7.8.2 1.7-.2 2-.5.2-.2.2-.5 0-.7-.1 0-.4-.1-.6.1z"></path></svg></span></div><div role="button" class="_2VOsv _2RAgj" title="Alimentos y bebidas"><span data-testid="panel-emoji-food" data-icon="panel-emoji-food" class=""><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M7.4 11.4c-.4 0-.8.4-.8.8V14c0 .4.4.8.8.8s.8-.4.6-.8v-1.8c0-.6-.2-.8-.6-.8zM4.6 10.4c-.4 0-.8.4-.8.8V15c0 .4.4.8.8.8s.8-.4.8-.8v-3.8c0-.6-.4-.8-.8-.8z"></path><path fill="currentColor" d="M23 7.2c-.6-.6-1.6-.8-2.8-.6-.2 0-.4.2-.6.2V4.2c0-.6-.6-1.2-1.2-1.2h-17C.8 3 .2 3.6.2 4.2v7.4c0 5.4 3.2 9.6 8.4 9.6h2.2c4.2 0 7-2.6 8-6h.4c2.2-.4 4-2.6 4.4-4.8.4-1.4.2-2.4-.6-3.2zm-4.8-2.8v3H1.6v-3h16.6zM11 19.8H8.8c-5.2 0-7-4.4-7-8.2V8.8h16.6v2.8c-.2 4-2.4 8.2-7.4 8.2zm8.4-6.2c.2-.6.2-1.4.2-2V8.4c.4-.2.6-.4 1-.4.6-.2 1.2 0 1.4.4.4.4.6 1 .4 1.8-.2 1.4-1.6 3-3 3.4z"></path></svg></span></div><div role="button" class="_2VOsv _2RAgj" title="Actividades"><span data-testid="panel-emoji-activity" data-icon="panel-emoji-activity" class=""><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M14.8 15.3l1.3-3.8c.1-.2 0-.5-.2-.6l-3.3-2.4c-.2-.1-.5-.1-.6 0l-3.3 2.4c-.2.1-.3.4-.2.6l1.3 3.8c.1.2.3.4.5.4h4c.2 0 .4-.2.5-.4z"></path><path fill="currentColor" d="M12 1.9C6.4 1.9 1.9 6.4 1.9 12S6.4 22.1 12 22.1 22.1 17.6 22.1 12 17.6 1.9 12 1.9zM9.8 20.3c.1-.2.1-.4 0-.6l-1.4-2.3c-.1-.1-.2-.2-.4-.3l-2.5-.6c-.2-.1-.5.1-.6.2-.9-1.3-1.4-2.9-1.5-4.5.2 0 .4 0 .5-.2l1.7-2c.1 0 .2-.2.2-.3l-.3-2.6c0-.2-.1-.3-.3-.4C6.2 5.4 7.5 4.5 9 4c0 .1.2.3.3.3l2.5 1.1c.1.1.3.1.4 0l2.5-1.1.3-.3c1.5.6 2.7 1.5 3.7 2.7-.1.1-.2.2-.2.4l-.2 2.6c0 .2 0 .3.1.4l1.7 2c.1.1.3.2.4.2 0 1.6-.5 3.1-1.3 4.4-.1-.1-.2-.1-.4-.1l-2.5.6c-.1 0-.3.1-.4.3l-1.4 2.3c-.1.2-.1.3 0 .5-.8.2-1.6.4-2.5.4-.7-.1-1.5-.2-2.2-.4z"></path></svg></span></div><div role="button" class="_2VOsv _2RAgj" title="Viajes y lugares"><span data-testid="panel-emoji-travel" data-icon="panel-emoji-travel" class=""><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M21.5 11.5c0-.7-.1-1.4-.3-2l-1.5-4.3C19.2 3.9 18 3 16.6 3H7.3c-1.4 0-2.6.9-3.1 2.2L2.6 9.9c-.1.4-.2.7-.2 1.1v8.6c0 .6.5 1.1 1.1 1.1h1.1c.6 0 1.1-.5 1.1-1.1v-1.1h12.7v1.1c0 .6.5 1.1 1.1 1.1h1.1c.6 0 1.1-.5 1.1-1.1v-7.4l-.2-.7zM4.1 10.4l1.6-4.7c.2-.7.9-1.2 1.7-1.2h9.2c.7 0 1.4.5 1.6 1.2l1.5 4.3c.1.3.2.6.2.8H4c-.1-.1 0-.3.1-.4zm1.4 5.7c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5c-.1.8-.7 1.5-1.5 1.5zm9.4-.6H9.3c-.5 0-1-.4-1-1 0-.5.4-1 1-1h5.6c.5 0 1 .4 1 1-.1.6-.5 1-1 1zm3.7.6c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5z"></path></svg></span></div><div role="button" class="_2VOsv _2RAgj" title="Objetos"><span data-testid="panel-emoji-objects" data-icon="panel-emoji-objects" class=""><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M18.8 6.7c-.9-2.6-3.2-4.6-6-4.9h-1.6c-2.8.3-5.1 2.2-6 4.9-1 3 .1 6.2 2.7 8H8c.2.1.3.4.3.6v2c0 .8.6 1.4 1.4 1.4h4.6c.8 0 1.4-.6 1.4-1.4v-2c0-.2.1-.5.3-.6l.1-.1c2.5-1.8 3.6-5 2.7-7.9zm-3.5 6.9l-.1.1c-.5.4-.9 1-.9 1.7v2s0 .1-.1.1H9.8s-.1 0-.1-.1v-2c0-.7-.3-1.3-.9-1.7l-.1-.1c-2-1.4-3-4-2.2-6.5.7-2.1 2.6-3.7 4.9-3.9H12.7c2.2.2 4.2 1.8 4.9 3.9.7 2.4-.2 5-2.3 6.5zM9.2 21.2c0 .6.5 1 1 1h3.7c.6 0 1-.5 1-1v-1H9.2v1z"></path><path fill="currentColor" d="M13.6 10.5c-.4 0-.8.3-.8.8 0 .1 0 .2.1.3-.2.3-.5.5-.8.5s-.6-.2-.8-.5c0-.1.1-.2.1-.3 0-.4-.3-.8-.8-.8-.4 0-.8.3-.8.8 0 .4.3.7.7.8.3.4.7.7 1.1.8V15c0 .2.2.4.4.4s.4-.2.4-.4v-2.1c.4-.1.8-.4 1.1-.8.4 0 .8-.3.8-.8s-.3-.8-.7-.8z"></path></svg></span></div><div role="button" class="_2VOsv _2RAgj" title="Símbolos"><span data-testid="panel-emoji-symbols" data-icon="panel-emoji-symbols" class=""><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M14.5 12.9V11h2.2l-.2-1.3h-2V7.3H13v2.5h-2V7.4H9.5v2.4H7.2l.2 1.2h2.1v1.9H7.3l.2 1.3h2v2.4H11v-2.4h2v2.4h1.5v-2.4h2.3l-.2-1.3h-2.1zM11 11h2v1.9h-2V11z"></path><path fill="currentColor" d="M16.1 2.6H7.9C5 2.6 2.6 5 2.6 7.9V16c0 3 2.4 5.3 5.3 5.3H16c3 0 5.3-2.4 5.3-5.3V7.9c.1-2.9-2.3-5.3-5.2-5.3zm3.7 13.5c0 2.1-1.6 3.8-3.7 3.8H7.9c-2.1 0-3.8-1.7-3.8-3.8V7.9c0-2.1 1.7-3.8 3.8-3.8H16c2.1 0 3.8 1.7 3.8 3.8v8.2z"></path></svg></span></div><div role="button" class="_2VOsv _2RAgj" title="Banderas"><span data-testid="panel-emoji-flags" data-icon="panel-emoji-flags" class=""><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M5.5 3.8v-.2c0-.3-.2-.5-.5-.5h-.5c-.3 0-.5.2-.5.5V21c0 .3.2.5.5.5H5c.3 0 .5-.2.5-.5v-6.2c5 1.8 9.3-2.7 14.5.6V4.1C14.9 1 10.3 5.6 5.5 3.8zm10.3 8.8c-1.4 0-2.8.3-4.1.6-1.2.3-2.4.5-3.5.5-.9 0-1.8-.2-2.6-.5V5.4c.8.2 1.5.3 2.3.3 1.5 0 2.9-.4 4.3-.7 1.3-.3 2.5-.6 3.8-.6.9 0 1.7.2 2.5.5V13c-.9-.2-1.8-.4-2.7-.4z"></path></svg></span></div></div><div tabindex="-1"><div class="LR5wt"><span class="AoclV"><div tabindex="-1" data-tab="5" class="_2dByE"><label class="_1qTcI"><div class="wPvaz"><input class="tLOLM copyable-text selectable-text" type="text" dir="ltr" title="Buscar emoji" placeholder="Buscar emoji" value=""></div></label></div></span><div class="EX2qq"><div class="_1qDvT gcerK"><div class=""><div class="-GlrD _2xoTX" style="height: 6279px;"><div class="_210SC"><div class="_3O99L">Recientes</div></div><div class="_210SC"><div class="RTUhS"><div tabindex="-1"><div class="_1kf8y"><span class="b76 emojik wa" tabindex="-1" data-emoji-index="0" style="background-position: -64px -32px;"></span><span class="b97 emojik wa" tabindex="-1" data-emoji-index="1" style="background-position: -32px -32px;"></span><span class="b97 emojik wa" tabindex="-1" data-emoji-index="2" style="background-position: -64px -32px;"></span><span class="b76 emojik wa" tabindex="-1" data-emoji-index="3" style="background-position: 0px -32px;"></span><span class="b75 emojik wa" tabindex="-1" data-emoji-index="4" style="background-position: -32px -128px;"></span><span class="b76 emojik wa" tabindex="-1" data-emoji-index="5" style="background-position: -128px 0px;"></span><span class="b75 emojik wa" tabindex="-1" data-emoji-index="6" style="background-position: -96px -96px;"></span><span class="b75 emojik wa" tabindex="-1" data-emoji-index="7" style="background-position: 0px 0px;"></span><span class="b87 emojik wa" tabindex="-1" data-emoji-index="8" style="background-position: -128px -96px;"></span><span class="b87 emojik wa" tabindex="-1" data-emoji-index="9" style="background-position: -32px -96px;"></span><span class="b90 emojik wa" tabindex="-1" data-emoji-index="10" style="background-position: -64px -96px;"></span><span class="b90 emojik wa" tabindex="-1" data-emoji-index="11" style="background-position: 0px -96px;"></span><span class="b89 emojik wa" tabindex="-1" data-emoji-index="12" style="background-position: -96px -128px;"></span></div></div></div></div><div class="_210SC"><div class="RTUhS"><div tabindex="-1"><div class="_1kf8y"><span class="b3 emojik wa" tabindex="-1" data-emoji-index="0" style="background-position: -64px 0px;"></span><span class="b75 emojik wa" tabindex="-1" data-emoji-index="1" style="background-position: -32px -96px;"></span><span class="b75 emojik wa" tabindex="-1" data-emoji-index="2" style="background-position: -96px 0px;"></span><span class="b75 emojik wa" tabindex="-1" data-emoji-index="3" style="background-position: -128px -128px;"></span><span class="b75 emojik wa" tabindex="-1" data-emoji-index="4" style="background-position: -64px -128px;"></span><span class="b97 emojik wa" tabindex="-1" data-emoji-index="5" style="background-position: -96px -32px;"></span><span class="b75 emojik wa" tabindex="-1" data-emoji-index="6" style="background-position: 0px -96px;"></span><span class="b76 emojik wa" tabindex="-1" data-emoji-index="7" style="background-position: -32px 0px;"></span><span class="b75 emojik wa" tabindex="-1" data-emoji-index="8" style="background-position: -64px -96px;"></span><span class="b75 emojik wa" tabindex="-1" data-emoji-index="9" style="background-position: -96px -64px;"></span><span class="b75 emojik wa" tabindex="-1" data-emoji-index="10" style="background-position: -128px -64px;"></span><span class="b90 emojik wa" tabindex="-1" data-emoji-index="11" style="background-position: -32px -96px;"></span><span class="b90 emojik wa" tabindex="-1" data-emoji-index="12" style="background-position: -128px -96px;"></span></div></div></div></div><div class="_210SC"><div class="RTUhS"><div tabindex="-1"><div class="_1kf8y"><span class="b90 emojik wa" tabindex="-1" data-emoji-index="0" style="background-position: -64px -64px;"></span><span class="b103 emojik wa" tabindex="-1" data-emoji-index="1" style="background-position: -32px -128px;"></span><span class="b87 emojik wa" tabindex="-1" data-emoji-index="2" style="background-position: 0px -96px;"></span><span class="b74 emojik wa" tabindex="-1" data-emoji-index="3" style="background-position: 0px -128px;"></span><span class="b90 emojik wa" tabindex="-1" data-emoji-index="4" style="background-position: -96px -64px;"></span><span class="b97 emojik wa" tabindex="-1" data-emoji-index="5" style="background-position: -128px 0px;"></span><span class="b74 emojik wa" tabindex="-1" data-emoji-index="6" style="background-position: -32px -128px;"></span><span class="b74 emojik wa" tabindex="-1" data-emoji-index="7" style="background-position: -128px -128px;"></span><span class="b75 emojik wa" tabindex="-1" data-emoji-index="8" style="background-position: -32px -64px;"></span><span class="b75 emojik wa" tabindex="-1" data-emoji-index="9" style="background-position: -32px 0px;"></span><span class="b75 emojik wa" tabindex="-1" data-emoji-index="10" style="background-position: -64px -64px;"></span><span class="b75 emojik wa" tabindex="-1" data-emoji-index="11" style="background-position: -64px 0px;"></span><span class="b76 emojik wa" tabindex="-1" data-emoji-index="12" style="background-position: -32px -128px;"></span></div></div></div></div><div class="_210SC"><div class="RTUhS"><div tabindex="-1"><div class="_1kf8y"><span class="b74 emojik wa" tabindex="-1" data-emoji-index="0" style="background-position: 0px -96px;"></span><span class="b74 emojik wa" tabindex="-1" data-emoji-index="1" style="background-position: -96px -96px;"></span><span class="b74 emojik wa" tabindex="-1" data-emoji-index="2" style="background-position: -128px -96px;"></span><span class="b97 emojik wa" tabindex="-1" data-emoji-index="3" style="background-position: -64px 0px;"></span><span class="b75 emojik wa" tabindex="-1" data-emoji-index="4" style="background-position: 0px -32px;"></span><span class="b75 emojik wa" tabindex="-1" data-emoji-index="5" style="background-position: -128px 0px;"></span><span class="b75 emojik wa" tabindex="-1" data-emoji-index="6" style="background-position: -32px -32px;"></span><span class="b75 emojik wa" tabindex="-1" data-emoji-index="7" style="background-position: -64px -32px;"></span><span class="b74 emojik wa" tabindex="-1" data-emoji-index="8" style="background-position: -64px -96px;"></span><span class="b75 emojik wa" tabindex="-1" data-emoji-index="9" style="background-position: -96px -32px;"></span><span class="b75 emojik wa" tabindex="-1" data-emoji-index="10" style="background-position: 0px -64px;"></span><span class="b75 emojik wa" tabindex="-1" data-emoji-index="11" style="background-position: -128px -32px;"></span><span class="b90 emojik wa" tabindex="-1" data-emoji-index="12" style="background-position: -128px -64px;"></span></div></div></div></div><div class="_210SC" style="z-index: 22; transition: none 0s ease 0s; height: 44px; transform: translateY(1584px);" onclick="ColorChat(); OnclickCheck(22)"><div class="RTUhS"><div tabindex="-1"><div class="_1kf8y"><span class="b74 emojik wa" tabindex="-1" data-emoji-index="0" style="background-position: -32px -32px;"></span><span class="b74 emojik wa" tabindex="-1" data-emoji-index="1" style="background-position: -128px -32px;"></span><span class="b74 emojik wa" tabindex="-1" data-emoji-index="2" style="background-position: 0px -64px;"></span><span class="b74 emojik wa" tabindex="-1" data-emoji-index="3" style="background-position: -64px -32px;"></span><span class="b74 emojik wa" tabindex="-1" data-emoji-index="4" style="background-position: -64px -64px;"></span><span class="b74 emojik wa" tabindex="-1" data-emoji-index="5" style="background-position: -32px -64px;"></span><span class="b74 emojik wa" tabindex="-1" data-emoji-index="6" style="background-position: -96px -32px;"></span><span class="b89 emojik wa" tabindex="-1" data-emoji-index="7" style="background-position: -32px -128px;"></span><span class="b3 emojik wa" tabindex="-1" data-emoji-index="8" style="background-position: -96px 0px;"></span><span class="b74 emojik wa" tabindex="-1" data-emoji-index="9" style="background-position: -32px -96px;"></span><span class="b74 emojik wa" tabindex="-1" data-emoji-index="10" style="background-position: -96px -64px;"></span><span class="b76 emojik wa" tabindex="-1" data-emoji-index="11" style="background-position: -64px -128px;"></span><span class="b76 emojik wa" tabindex="-1" data-emoji-index="12" style="background-position: -96px -128px;"></span></div></div></div></div><div class="_210SC"><div class="_3O99L">Emoticonos y personas</div></div><div class="_210SC"><div class="RTUhS"><div tabindex="-1"><div class="_1kf8y"><span class="b20 emojik wa" tabindex="-1" data-emoji-index="0" style="background-position: -96px -128px;"></span><span class="b76 emojik wa" tabindex="-1" data-emoji-index="1" style="background-position: -32px 0px;"></span><span class="b74 emojik wa" tabindex="-1" data-emoji-index="2" style="background-position: -96px -64px;"></span><span class="b75 emojik wa" tabindex="-1" data-emoji-index="3" style="background-position: -64px -32px;"></span><span class="b74 emojik wa" tabindex="-1" data-emoji-index="4" style="background-position: -128px -96px;"></span><span class="b74 emojik wa" tabindex="-1" data-emoji-index="5" style="background-position: 0px -128px;"></span><span class="b90 emojik wa" tabindex="-1" data-emoji-index="6" style="background-position: -128px -96px;"></span><span class="b76 emojik wa" tabindex="-1" data-emoji-index="7" style="background-position: -128px -32px;"></span><span class="b74 emojik wa" tabindex="-1" data-emoji-index="8" style="background-position: -64px -96px;"></span><span class="b87 emojik wa" tabindex="-1" data-emoji-index="9" style="background-position: -128px -96px;"></span></div></div></div></div><div class="_210SC"><div class="RTUhS"><div tabindex="-1"><div class="_1kf8y"><span class="b29 emojik wa" tabindex="-1" data-emoji-index="0" style="background-position: -128px -64px;"></span><span class="b90 emojik wa" tabindex="-1" data-emoji-index="1" style="background-position: -96px -64px;"></span><span class="b59 emojik wa" tabindex="-1" data-emoji-index="2" style="background-position: -96px -128px;"></span><span class="b2 emojik wa" tabindex="-1" data-emoji-index="3" style="background-position: -128px -96px;"></span><span class="b74 emojik wa" tabindex="-1" data-emoji-index="4" style="background-position: -128px -32px;"></span><span class="b109 emojik wa" tabindex="-1" data-emoji-index="5" style="background-position: 0px -32px;"></span><span class="b40 emojik wa" tabindex="-1" data-emoji-index="6" style="background-position: -96px -128px;"></span><span class="b20 emojik wa" tabindex="-1" data-emoji-index="7" style="background-position: -128px -128px;"></span><span class="b20 emojik wa" tabindex="-1" data-emoji-index="8" style="background-position: -64px -128px;"></span><span class="b90 emojik wa" tabindex="-1" data-emoji-index="9" style="background-position: -64px -96px;"></span><span class="b8 emojik wa" tabindex="-1" data-emoji-index="10" style="background-position: -64px 0px;"></span><span class="b63 emojik wa" tabindex="-1" data-emoji-index="11" style="background-position: -32px -32px;"></span><span class="b74 emojik wa" tabindex="-1" data-emoji-index="12" style="background-position: 0px -96px;"></span></div></div></div></div><div class="_210SC"><div class="RTUhS"><div tabindex="-1"><div class="_1kf8y"><span class="b74 emojik wa" tabindex="-1" data-emoji-index="0" style="background-position: -32px -96px;"></span><span class="b80 emojik wa" tabindex="-1" data-emoji-index="1" style="background-position: -32px -32px;"></span><span class="b76 emojik wa" tabindex="-1" data-emoji-index="2" style="background-position: -96px -128px;"></span><span class="b74 emojik wa" tabindex="-1" data-emoji-index="3" style="background-position: -64px -64px;"></span><span class="b89 emojik wa" tabindex="-1" data-emoji-index="4" style="background-position: -64px -64px;"></span><span class="b75 emojik wa" tabindex="-1" data-emoji-index="5" style="background-position: -64px -128px;"></span><span class="b82 emojik wa" tabindex="-1" data-emoji-index="6" style="background-position: -128px -96px;"></span><span class="b87 emojik wa" tabindex="-1" data-emoji-index="7" style="background-position: -32px -96px;"></span><span class="b28 emojik wa" tabindex="-1" data-emoji-index="8" style="background-position: -64px -96px;"></span><span class="b22 emojik wa" tabindex="-1" data-emoji-index="9" style="background-position: -96px -64px;"></span><span class="b78 emojik wa" tabindex="-1" data-emoji-index="10" style="background-position: 0px 0px;"></span><span class="b74 emojik wa" tabindex="-1" data-emoji-index="11" style="background-position: 0px -64px;"></span><span class="b75 emojik wa" tabindex="-1" data-emoji-index="12" style="background-position: -128px -128px;"></span></div></div></div></div></div></div><div class="_2NIgT"></div></div></div></div></div></div><div class="_2NIgT"></div></div><div class="_2NIgT"></div></div><div class="_1qDvT"><div class="_2NIgT"></div></div><div class="_1qDvT"><div class="_2NIgT"></div></div><div class="_1qDvT"><div class="_2NIgT"></div></div></div></div><div class="_3V3__"></div><div class="_3FUzQ"></div></footer>';
//Barra que aparece por encima del footer al Seleccionar Mensajes (se inserta en el 'span' que le sigue al footer, cuando este elemento aparece, el contenido del footer se elimina y viceversa)
//Cuando aparece en pieza con translateY(100%) (escondido abajo) y acaba con 0% (visible)
var footerSM = '<div class="_2pAWd" style="transform: translateY(100%);"><button class="_20f0o"><span data-testid="x" data-icon="x" class=""><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M19.1 17.2l-5.3-5.3 5.3-5.3-1.8-1.8-5.3 5.4-5.3-5.3-1.8 1.7 5.3 5.3-5.3 5.3L6.7 19l5.3-5.3 5.3 5.3 1.8-1.8z"></path></svg></span></button><span class="ReHjt">0 seleccionados</span><button class="_20f0o" title="Destacar mensajes" disabled=""><span data-testid="star-btn" data-icon="star-btn" class=""><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M11.1 16.8l-4.4 3.1c-.7.5-1.5-.1-1.3-.9L7 13.9c.1-.3 0-.7-.3-.9L2.4 9.7c-.6-.4-.3-1.4.5-1.4l5.4-.1c.3 0 .6-.2.7-.6l1.8-5.1c.2-.7 1.3-.7 1.5 0l1.8 5.1c.1.3.4.5.7.5l5.4.1c.8 0 1.1 1 .5 1.4L16.4 13c-.3.2-.4.5-.3.9l1.6 5.2c.2.7-.6 1.3-1.2.9L12 16.8c-.3-.2-.6-.2-.9 0z"></path></svg></span></button><button class="_20f0o" title="Eliminar mensajes" disabled=""><span data-testid="delete" data-icon="delete" class=""><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M6 18c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V6H6v12zM19 3h-3.5l-1-1h-5l-1 1H5v2h14V3z"></path></svg></span></button><button class="_20f0o" title="Reenviar mensajes" disabled=""><span data-testid="forward" data-icon="forward" class=""><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M14.278 4.813c0-.723.873-1.085 1.383-.574l6.045 6.051a.81.81 0 0 1 0 1.146l-6.045 6.051a.81.81 0 0 1-1.383-.574v-2.732c-5.096 0-8.829 1.455-11.604 4.611-.246.279-.702.042-.602-.316 1.43-5.173 4.925-10.004 12.206-11.045V4.813z"></path></svg></span></button><button class="_20f0o" title="Descargar" disabled=""><span data-testid="download" data-icon="download" class=""><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M18.9 10.3h-4V4.4H9v5.9H5l6.9 6.9 7-6.9zM5.1 19.2v2H19v-2H5.1z"></path></svg></span></button></div>';
// footer.nextSibling => (span que sigue al footer)

var index_mensaje = -1;
var hover_options_menu = document.getElementsByClassName("I4jbF")[0];
var index_options_menu = -1;
var hover_options = -1;

// Nombre de los mensajes de chats grupales (Sin uso)
// var nombre_mensaje = document.getElementsByClassName("zGvn8");

// Conjuneto de 'spans' que se usan para los popup en su mayoría
var span_popup = app.children[0].children;


function AddPopup1() {
    span_popup[1].innerHTML = popup_1;
    // Desaparece el popup al hacer click en los botones
    var i = 0;
    for(i=0;i<popup_button.length;i++) {
        popup_button[i].addEventListener("click", DeletePopup);
    }
}

function AddPopup2() {
    span_popup[1].innerHTML = popup_2;
    // Desaparece el popup al hacer click en los botones
    var i = 0;
    for(i=0;i<=popup_button.length-1;i++) {
        popup_button[i].addEventListener("click", DeletePopup);
    }
}

function AddPopupCamAccess() {
    span_popup[1].innerHTML = popupCamAccess;
    // Desaparece el popup al hacer click en los botones
    var i = 0;
    for(i=0;i<=popup_button.length-1;i++) {
        popup_button[i].addEventListener("click", DeletePopup);
    }
}


function DeletePopup() {
    var popup_box = document.getElementsByClassName("G_MLO")[0];
    var popup_box_bg = document.getElementsByClassName("overlay")[0];
    popup_box.classList.add("closed");
    popup_box_bg.classList.add("closed");
    setTimeout(function() {
        span_popup[1].innerHTML = "";
    }, 600);
}



// Control del hover del PopupOptions del click derecho con js (un mero reto para aprender)
/*
function OnmouseCheck(index_options_menu) {
    var i = 0;
    for(i=0;i<=hover_options_menu.children.length-1;i++) {
     if(hover_options_menu.children[i] === hover_options_menu.children[index_options_menu]) {
        hover_options_menu.children[i].classList.add("_39Nmx");
    } else {hover_options_menu.addEventListener("mouseout", function() {
            for(i=0;i<=hover_options_menu.children.length-1;i++) {
                hover_options_menu.children[i].classList.remove("_39Nmx");
            }} );}
    }
}
*/

var POD = 100; // PopupOptionsDelay

span_popup[3].oncontextmenu = function() {return false}

chatContent.parentElement.parentElement.parentElement.oncontextmenu = function() {return false} // Deshabilitar click derecho en el chat actual
chatContent.parentElement.parentElement.parentElement.addEventListener("contextmenu", PopupOptions); // Habilitar menu popup del click derecho en el chat actual

function PopupOptions() {
    chatListContainer.removeEventListener("contextmenu", PopupOptions2); // Deshabilitar menu del click derecho después de haberlo creado
    /*document.body.addEventListener("mouseover", OnmouseCheck);*/ // Efecto 'hover' con js
    span_popup[3].innerHTML = popup_options;
    
    // Adaptar el menu según la posición del ratón en el chat
    setTimeout(function() { // Corregir detección del tamaño para asignar correctamente la posición (medida tomada al tener altura variable con la opción mostrar mensajes)
        if(span_popup[3].children[0] != undefined) {
            span_popup[3].children[0].style.visibility = "visible"; // Está oculto al principio para evitar el bug de que se posiciona en la esquina durante menos de 1s al aparecer (Bug ocasionado por el 'setTimeout' al generar una diferencia de tiempo entre su aparición y su colocación)
        }
        if(x < (window.innerWidth - chatContent.parentElement.parentElement.parentElement.offsetWidth) + span_popup[3].children[0].offsetWidth) { // Si el ratón está más a la izquierda que el ancho del menu
            span_popup[3].children[0].style.left = x + "px";
            span_popup[3].children[0].style.transformOrigin = "left top";
        } else {
            span_popup[3].children[0].style.left = x + -span_popup[3].children[0].offsetWidth + "px";
            //span_popup[3].children[0].style.transformOrigin = "right top";
        }

        if(y > (chatContent.parentElement.parentElement.parentElement.offsetHeight - span_popup[3].children[0].offsetHeight) && span_popup[3].children[0] != undefined) { // Si el ratón está más bajo que la altura del menu
            span_popup[3].children[0].style.top = y - span_popup[3].children[0].offsetHeight + "px";
            span_popup[3].children[0].style.transformOrigin = span_popup[3].children[0].style.transformOrigin.replace("top", "bottom");

        } else {
            span_popup[3].children[0].style.top = y + "px";
            //span_popup[3].children[0].style.transformOrigin = "top";
        }
        
        // Animación de entrada
        setTimeout(function() {
          span_popup[3].children[0].style.transform = "scale(1)";
        }, 200); // Retardo necesario para que el 'transform-origin' funcione correctamente

    }, 0);
    
    chatContent.parentElement.parentElement.parentElement.removeEventListener("contextmenu", PopupOptions); // Deshabilitar menu del click derecho después de haberlo creado
    setTimeout(function() {
        // Habilitar borrado del menu con el click derecho justo después de haberlo creado
        document.body.addEventListener("contextmenu", DeletePopupOptions);
        document.body.addEventListener("click", DeletePopupOptions);
    }, 100);
/*
    hover_options_menu = document.getElementsByClassName("I4jbF")[0];
    var i = 0;
    for(i=0;i<=hover_options_menu.children.length-1;i++) { // Añade el evento para activar el hover
        hover_options_menu.children[i].setAttribute("onmouseover", "OnmouseCheck("+i+")");
    }
*/
}

function PopupLogic() {

 // Detectar si un mensaje está oculto para encender el botón que los muestra
 var MO = 0; // Cantidad Mensajes Ocultos
 var MM = 0; // Cantidad Mensajes Expuestos

 var divP = document.getElementsByTagName("div");

 // Botón que Muestra Mensajes
 var buttonMM = document.getElementsByClassName("MM")[chat_index];
 if(chat_index >= 0) {
     for(var i = 2; i <= chatContent.children.length-1; i++) {
       if(chatContent.children[i].classList.contains("oculto")) {
         MO++;
       } else {
         MM++;
       }
 }
   if(MO >= 1) { // Si la cantidad de Mensajes Ocultos es mayor que 1
      buttonMM.classList.remove("/*_3QjfB*/");
      buttonMM.classList.add("_3QjfB"); // Poner al botón color verde
      if(divP["MostrarMensajes()"] != undefined){
        divP["MostrarMensajes()"].style.display = ""; // Mostrar Botón de "Mostrar Mensajes"
      }
     } else { // Si es 0
       buttonMM.classList.add("/*_3QjfB*/");
       buttonMM.classList.remove("_3QjfB"); // Quitar color verde al botón
       if(divP["MostrarMensajes()"] != undefined){
        divP["MostrarMensajes()"].style.display = "none"; // Ocultar Botón
      }
     }

    if(divP["OcultarMensajes()"] != undefined) {
      if(MM >= 1) { // Si la cantidad de Mensajes Mostrados es mayor que 1
       divP["OcultarMensajes()"].style.display = ""; // Mostrar botón de "Ocultar Mensajes"
     } else {
       divP["OcultarMensajes()"].style.display = "none"; // Ocultar botón
       }
     }
 }

}

// Actualización de la función en cada momento
document.addEventListener("click", PopupLogic);
document.addEventListener("contextmenu", PopupLogic);
document.addEventListener("mousemove", PopupLogic);


chatListContainer.oncontextmenu = function() {return false} // Deshabilitar click derecho en la lista de chats
chatListContainer.addEventListener("contextmenu", PopupOptions2); // Habilitar menu popup del click derecho en el chat actual

function PopupOptions2() {
    if(chat_index >= 0) {
        chatContent.parentElement.parentElement.parentElement.removeEventListener("contextmenu", PopupOptions); // Deshabilitar menu del click derecho después de haberlo creado
    }
    /*document.body.addEventListener("mouseover", OnmouseCheck);*/ // Efecto 'hover' con js
    span_popup[3].innerHTML = popup_options2;

    
    // Adaptar el menu según la posición del ratón en el chat
    setTimeout(function() { // Corregir detección del tamaño para asignar correctamente la posición (medida tomada al tener altura variable con la opción mostrar mensajes)
        
        span_popup[3].children[0].style.visibility = "visible"; // Está oculto al principio para evitar el bug de que se posiciona en la esquina durante menos de 1s al aparecer (Bug ocasionado por el 'setTimeout' al generar una diferencia de tiempo entre su aparición y su colocación)
        
        if(x < span_popup[3].children[0].offsetWidth) { // Si el ratón está más a la izquierda que el ancho del menu
            span_popup[3].children[0].style.left = x + "px";
            span_popup[3].children[0].style.transformOrigin = "left top";
        } else {
            span_popup[3].children[0].style.left = x + -span_popup[3].children[0].offsetWidth + "px";
            //span_popup[3].children[0].style.transformOrigin = "right top";
        }

        if(y > (chatListContainer.offsetHeight - span_popup[3].children[0].offsetHeight) && span_popup[3].children[0] != undefined) { // Si el ratón está más bajo que la altura del menu
            span_popup[3].children[0].style.top = y - span_popup[3].children[0].offsetHeight + "px";
            span_popup[3].children[0].style.transformOrigin = span_popup[3].children[0].style.transformOrigin.replace("top", "bottom");

        } else {
            span_popup[3].children[0].style.top = y + "px";
            //span_popup[3].children[0].style.transformOrigin = "top";
        }

        setTimeout(function(){
          span_popup[3].children[0].style.transform = "scale(1)";
        }, 200);

    }, 0);


    chatListContainer.removeEventListener("contextmenu", PopupOptions2); // Deshabilitar menu del click derecho después de haberlo creado
    setTimeout(function() {
        // Habilitar borrado del menu con el click derecho justo después de haberlo creado
        document.body.addEventListener("contextmenu", DeletePopupOptions);
        document.body.addEventListener("click", DeletePopupOptions);
    }, 300);
/*
    hover_options_menu = document.getElementsByClassName("I4jbF")[0];
    var i = 0;
    for(i=0;i<=hover_options_menu.children.length-1;i++) { // Añade el evento para activar el hover
        hover_options_menu.children[i].setAttribute("onmouseover", "OnmouseCheck("+i+")");
    }
*/
}

function DeletePopupOptions() {
  // Evitar que se le de a más de un botón durante la desaparición del Popup
  if(span_popup[3].children[0] != undefined) {
    for(var i = 0; i < span_popup[3].children[0].children[0].children.length; i++) {
        span_popup[3].children[0].children[0].children[i].children[0].removeAttribute("onclick");
    }
  }
  
  // Evitar que se mezcle la acción de aparación del Popup con su desaparición
  document.body.removeEventListener("contextmenu", DeletePopupOptions);
  document.body.removeEventListener("click", DeletePopupOptions);

  if(span_popup[3].children[0] != undefined) {
      // Animación de salida
      span_popup[3].children[0].style.transform = "scale(0)";
      span_popup[3].children[0].style.opacity =  "0";
/*
      var i = 0;
      for(i=0;i<=hover_options_menu.children.length-1;i++) {
          hover_options_menu.children[i].classList.remove("_39Nmx");
      }
*/
      setTimeout(function() {
          if(chat_index >= 0) {
            chatContent.parentElement.parentElement.parentElement.addEventListener("contextmenu", PopupOptions); // Habilitar menu del click derecho después de haberlo borrado
          }
          chatListContainer.addEventListener("contextmenu", PopupOptions2); // Habilitar menu del click derecho después de haberlo borrado
          span_popup[3].innerHTML = "";
      }, 450);  // Retraso para que desaparezca el menu y volver a usarlo
  }
}



function PopupLeftBottom() {
    span_popup[0].innerHTML = popup_left_bottom;
}

function DeletePopupLeftBottom() {
    span_popup[0].children[0].classList.add("closed");
    setTimeout(function() {span_popup[0].innerHTML = "";}, 300);
}
